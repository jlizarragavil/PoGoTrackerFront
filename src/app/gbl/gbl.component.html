
<div class="table-container">
    <p-table #dt [value]="pokemon" styleClass="p-datatable-gridlines" 
        [tableStyle]="{ 'min-width': '100%' }" [paginator]="true" [rows]="10"
        [rowsPerPageOptions]="[5, 10, 20]" responsiveLayout="scroll">
        <ng-template pTemplate="header">
            <tr>
                <th>Name
                    <input 
                    pInputText 
                    type="text" 
                    (input)="filterTable($event)" 
                    placeholder="Search by name" 
                />
                </th>
                <th>Atk1</th>
                <th>Atk2</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-pokemon>
            <tr class="pokemon-row">
                <td>{{ pokemon.name }}</td>
                <td [ngClass]="getAttackClass(pokemon.type1)">{{ pokemon.atk1 }}</td>
                <td [ngClass]="getAttackClass(pokemon.type2)">{{ pokemon.atk2 }}</td>
            </tr>
        </ng-template>
    </p-table>

    <div class="legend-container">
        <div class="legend">
            <h3>Legend of Types</h3>
            <ul class="legend-types">
                <li *ngFor="let type of pokemonTypes">
                    <span [ngClass]="getAttackClass(type)" class="legend-color-box"></span> {{ type | titlecase }}
                </li>
            </ul>
            <br><br><br>
            <h3>Legend of Attack Patterns</h3>
            <ul>
                <li>
                    <strong>X-</strong> : Sequence decreases by 1 after the first attack (e.g., 8-, becomes 8,7,7,7,...).
                </li>
                <li>
                    <strong>X*</strong> : Alternating sequence (e.g., 8*, becomes 8,7,8,7,...).
                </li>
            </ul>
        </div>
    </div>
</div>

<style>
    .table-container {
        display: flex;
        flex-direction: column;
        padding: 1rem;
        gap: 1.5rem; /* Espacio moderado entre tabla y leyenda */
    }

    .legend-container {
        margin-top: 1.5rem;
        text-align: center;
    }

    .legend-color-box {
        display: inline-block;
        width: 1.5rem;
        height: 1.5rem;
        margin-right: 0.5rem;
    }

    /* Ajustes para dispositivos móviles */
    @media (max-width: 768px) {
        p-table {
            overflow-x: auto;
        }

        table {
            width: 100%;
        }

        .pokemon-row td {
            font-size: 1rem; /* Reducir tamaño de fuente en móviles */
            padding: 0.5rem; /* Reducir padding en móviles */
        }

        .legend-container {
            margin-left: 0;
        }
    }

    /* Ajustes para pantallas más grandes */
    @media (min-width: 768px) {
        .table-container {
            flex-direction: row;
            align-items: flex-start;
            gap: 3rem;
        }

        .pokemon-row td {
            font-size: 1.3rem;
            padding: 1rem;
        }

        .legend-container {
            max-width: 15rem;
            margin-left: 0;
        }
    }
</style>
